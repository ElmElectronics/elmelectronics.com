<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Elm Electronics - Circuit Construction Help</title><link rel="icon" type="image/png" href="images/favicon.png" /><link rel="stylesheet" type="text/css" href="elm_main.css" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width" /></head><body><div class="container"><!-- the header images --><div class="header_pcscreen"><div style="position:absolute;top:5px;left:5px;z-index:1"><a href="index.html"><img src="images/elm-logo-base.png" height="128" width="128" alt="Elm logo" /></a></div><div align="center" style="position:relative;top:24px"><img src="images/elmelectronics-base.png" height="100" width="400" alt="Elm Electronics" /></div></div><div class="header_print"><img src="images/elm-logo-base.png" height="64" width="64" alt="" /> <img src="images/spacer.png" height="64" width="64" alt="" /> <img src="images/elmelectronics-base.png" height="64" width="256" alt="" /><br /><br />
</div><!-- the main page  --><div class="content"><!-- the menu buttons --><div class="menu_row1"><a href="index.html"><img class="padright" src="images/buttons/home-button.png" width="116" height="84" alt="home button" title="go to the home page" /></a> <a href="products.html"><img class="padright" src="images/buttons/products-button.png" width="116" height="84" alt="products button" title="see all of our integrated circuits" /></a> <a href="ordering.html"><img class="padright" src="images/buttons/ordering-button.png" width="116" height="84" alt="ordering button" title="buy integrated circuits" /></a> <a href="help.html"><img src="images/buttons/help-selected.png" width="116" height="84" alt="help button" title="go back to the Need Help intro" /></a>
</div><div class="menu_row2"><a href="help.html"><img class="padright" src="images/buttons/back-button-sm.png" width="56" height="84" alt="back" title="back to the main help page" /></a> <a href="obdhelp.html"><img class="padright" src="images/buttons/OBD-button.png" width="116" height="84" alt="OBD button" title="help with OBD things" /></a> <img class="padright" src="images/buttons/tips-selected.png" width="116" height="84" alt="tips button" /> <a href="appnotes.html"><img class="padright" src="images/buttons/notes-button.png" width="116" height="84" alt="notes button" title="application notes" /></a> <a href="faqs.html"><img src="images/buttons/faqs-button.png" width="116" height="84" alt="faqs button" title="frequently asked questions" /></a>
</div><div class="contenttext"><!-- *********************** the page content starts here *************************** --><h3>Circuit Construction Tips
</h3><p>The following tips should help if you are having trouble designing or building a circuit. This section deals with general issues, so if you are having troubles with an OBDII circuit, be sure to also see our <a href="obdtips.html">OBD Tips (help &gt; OBD &gt; tips) page</a>.<br /><br />
</p><div class="myblockquote"><a href="#CandDC">Components &amp; Design Choices</a><div class="myblockquote"><a href="#Crystals">Crystals</a><br /><a href="#ICs">Integrated Circuits</a><br /><a href="#Transistors">Transistors</a><br /><a href="#Connectivity">Connectivity</a><br /></div><br /><a href="#Testing">Testing &amp; Troubleshooting</a><div class="myblockquote"><a href="#Software">Choosing Software</a><br /><a href="#Hardware">Hardware Problems</a><br /></div><br /><a href="#Ref">Reference</a><div class="myblockquote"><a href="#Ref01">RS232 Information</a><br /></div></div><br /><br /><br /><a name="CandDC" id="CandDC"></a><h3>Components &amp; Design Choices
</h3><hr /><a name="Crystals" id="Crystals"></a><p class="section">Crystals
</p><div class="myblockquote"><p class="question">I do not live in North America, so I substituted a PAL crystal for the NTSC one shown in your ELM624 circuit but am still having trouble. What next?
</p><div class="myblockquote">Put the NTSC crystal back in the circuit! That frequency was chosen because those crystals are inexpensive, and readily available. It has nothing to do with the video parameters. By using a different frequency, you have shifted all of the timing proportionally.
</div><p class="question">Can I use a 3.6864Mhz crystal instead of the 3.579545?
</p><div class="myblockquote">No. The circuit's time delays are all calculated based on the use of a TV type colourburst crystal being connected to the chip. While the oscillator will still function if another frequency crystal is used, the period of the oscillator will be different, and all timing will be in error. You can certainly try the other frequency, but don't be surprised if the circuit doesn't work properly.
</div><p class="question">Do I have to use 27pF capacitors with the crystal?
</p><div class="myblockquote">No. The loading capacitors depend on the crystal chosen, so some experimentation may be required. As a starting point, the 27pF or possibly 33pF should be a good value.
</div><p class="question">My crystal says to use 15pF of loading capacitance, but I can't find 7.5pF capacitors. What should I do?
</p><div class="myblockquote">Use the 27pF shown in the example applications, and failing that, use 33pF. Many people initially think that the two capacitors are essentially 'hung in parallel' across the circuit, so automatically assume they need half the value for each. You have to put yourself in the crystal's position however, to see that the two capacitors are in fact in series across the crystal. The 27pF shown, along with typically 5pF or more of stray capacitance across them results in about 16pF of effective parallel capacitance.<br /><p>Having said this, in a pinch anything from 22pF to 47pF will likely work just fine with almost any crystal.
</p>
</div></div><a name="ICs" id="ICs"></a><p class="section">Integrated Circuits
</p><div class="myblockquote"><p class="question">What are SOICs and PDIPs?
</p><div class="myblockquote">These names refer to the type of integrated circuit package that our ICs are supplied in. SOIC refers to a small outline IC (surface mount) while PDIP refers to a plastic dual inline package (socket or through-hole mount).<div align="center"><img src="images/chip-types.jpg" height="140" width="210" alt="relative chip sizes" border="0" /><p>All of our products are available in either case type. When ordering, simply choose the product with the 'P' or 'SM' at the end of their name.
</p></div>
</div><p class="question">What material do you use for your chip labels?
</p><div class="myblockquote">It's a high-temperature polyimide material that is specially produced for this purpose (we use <a href="http://www.bradyid.com/">Brady</a> types B-426 and B-652). The labels can be exposed to as much as 330C/626F for 80 seconds, 280C/536F for 5 minutes, and 180C/356F continuously (1000hrs) without damage.
</div><p class="question">Is the label adhesive permanent?
</p><div class="myblockquote">Yes. When initially applied, they can be repositioned, but after a few days become permanently affixed.
</div><p class="question">I can't find a 78L05 regulator. Will a 7805 do?
</p><div class="myblockquote">It will work, as the output voltage is the same, but you should understand that the two regulators limit the output current to different values. The 7805 will allow more than 1A of current to flow if the output is shorted, and this could damage components or wiring. For some of the OBD circuits, the 78L05 was specified in order to limit currents to a safe level. You can substitute, but be aware of what you are doing.
</div></div><a name="Transistors" id="Transistors"></a><p class="section">Transistors
</p><div class="myblockquote"><p class="question">Do I have to use the 2N3904 and 2N3906 transistors?
</p><div class="myblockquote">No, pretty well any general purpose transistor should work. For the 2N3904, there are many types that can be used - look at the BC546, BC547, BC548, BC549, BC550, 2N2218, or the 2N2222. Similarly, there are many options if you can not locate a 2N3906 - look at the BC556, BC557, BC558, BC559, BC560, and the 2N2905 for example. As long as the transistor has reasonable gain, it should work as the required frequency response is not too high.
</div><p class="question">How do I know which transistor wires are which?
</p><div class="myblockquote">This is not always that easy to do. Some digital multimeters are able to tell you, but if you do not have one, it can be difficult. See our <a href="AppNotes/AppNote01.pdf">"Application Note AN01 - Transistor Testing"</a> for one method that works. Alternatively, you might consider buying a device. There are many reasonably priced testers, such as these <a href="https://www.amazon.com/s?k=transistor+tester">Transistor Testers at Amazon.com</a>.
</div></div><a name="Connectivity" id="Connectivity"></a><p class="section">Connectivity
</p><div class="myblockquote"><p class="question">Can I use a MAX232 IC for the RS232 interface?
</p><div class="myblockquote">Yes, it can be used but you need to be aware that the RS232 Rx inputs on the ELM621, and ELM624 are inverted from what they should be (for a standard interface). By placing another inverter in series with the Rx input, <a href="http://www.maxim-ic.com/">Maxim's</a> interface IC's can be used.<br /><p>Here is how you might typically connect a MAX232 to provide both the RS232 interface, and the inversion on the Rx input:<br /><br />
</p><center><img src="images/max232.gif" height="215" width="300" border="0" alt="max232" /></center><p>Note that the ELM630, ELM633, and ELM634 do not need to have their Rx input inverted, as an RXmode input is provided to do this for you.
</p>
</div><p class="question">I would like to connect directly to my microprocessor. Can I do that?
</p><div class="myblockquote">Sure. You don't need the RS232 voltage levels to transfer data if it is going to another circuit on your board. RS232 voltages are really for going longer distances.<br />The RS232 Receive inputs on the ELM621 and ELM624 are inverted from what they should be (for a standard RS232 interface), so to correct for that you need to add another inverter. If you have a spare one on your circuit board, then use it. If you do not have an inverter, you can make one. A simple circuit such as this will work well:<p></p><div align="center"><img src="images/RS232-inverter.gif" height="182" width="334" border="0" alt="RS232 Inverter" /></div>This one transistor circuit is placed between your microprocessor transmit output, and the ELM IC's receive input to invert the signal for you. Your microprocessor receive input can be connected directly to the ELM's transmit, and your RS232 is all set. Note that the the circuits must all be powered by the same supply (so that you don't try to backfeed through the protection diodes).<br /><p>Note that the ELM630, ELM633, and ELM634 do not need to have their Rx input inverted, as noted in the previous question. Also, the ELM327 does not need an inverter - see the 'Microprocessor Interfaces' section of the ELM327 data sheet for more information.
</p>
</div></div><br /><br /><br /><a name="Testing" id="Testing"></a><h3>Testing &amp; Troubleshooting
</h3><hr /><!-- a 'to the top' button --><div class="arrow"><a href="#"><img src="images/uparrow.png" height="64" width="64" alt="to top" /><br />top</a></div><a name="Software" id="Software"></a><p class="section">Choosing Software
</p><div class="myblockquote"><p class="question">What software do I need in order to talk to my ELM IC?
</p><div class="myblockquote">All of the ELM ICs that have RS232 interfaces 'talk' in plain ASCII. This means that virtually any terminal program can be used with them, and no special software is required (but you may want to add your own, in order to provide a more 'user-friendly' interface).<p>Here are some examples of terminal programs:
</p><p>Macintosh
</p><ul><li><a href="http://www.furrysoft.de/">goSerial</a> by Andreas Mayer is a nice bit of free software. It provides a simple terminal interface, that automatically logs your sessions for you.</li><li><a href="http://homepage.mac.com/dalverson/zterm/">ZTerm</a> by Dave Alverson has been the standard shareware program for years. It's available for Mac OS X, as well as the older systems 8 and 9.</li></ul><p>Windows
</p><ul><li>The older Windows systems have a free terminal program included - "HyperTerminal" by Hilgraeve Inc./Microsoft. It's a good one to start with, if you're trying to do some basic testing.</li><li><a href="http://bray.velenje.cx/avr/terminal">Terminal 1.9b</a> by Bray is a great little free program if you can find it. For some reason, it's disappeared off the net recently.</li><li><a href="http://realterm.sourceforge.net/">RealTerm</a> is another great free program that is certainly worth a try.</li><li><a href="http://www.synthmodules.com/vbhexterm.htm">VBHexTerm</a> by Chris Schroeder is another great little free program. It allows you to transmit actual binary data which may handy (but not for the ELM interfaces - they only need ASCII).</li><li><a href="http://hp.vector.co.jp/authors/VA002416/teraterm.html">Tera Term Pro</a> by T. Teranishi is yet another free program. It hasn't been updated for a while, but should still work fine on many systems.</li><li>If that version of Tera Term seems a little outdated, you may want to try the SourceForge <a href="http://ttssh2.sourceforge.jp/">TeraTerm Project</a>. The software is open source, costs nothing, and seems to be kept fairly current - certainly worth a try.</li><li>One other suggestion is for a (free) product by <a href="http://www.compuphase.com/">CompuPhase</a>, called <a href="http://www.compuphase.com/software_termite.htm">Termite</a>. It is easy to set up, and is very fast at finding the COM port for you. It does support plugins, so can be customized if you wish (they give the source code, so you can write your own, too). The "Time Stamp" filter was a little disappointing in that it seemed to intersperse time stamps almost randomly thoughout the ELM chip responses (but could be very useful if it were to time-stamp the beginning of each line that is received). <a href="http://www.compuphase.com/software_termite.htm">Click here to go to the Termite web page</a>.</li><li><a href="http://www.wgsoft.de/">WGSoft</a>, makers of the popular ScanMaster-ELM software have created a nice little basic terminal - the <a href="ElmUsers/WGSoft/ComPortTerminalSetup.zip">"COM Port Terminal"</a>, and best of all, it's free. <a href="ElmUsers/WGSoft/ComPortTerminalSetup.zip">Click here to download a copy (it's about 600KB)</a>.</li><li><a href="http://realterm.sourceforge.net/">RealTerm</a> is reported to work well with Vista, and it's also a free download.</li></ul><p>Windows CE
</p><ul><li><a href="http://hp.vector.co.jp/authors/VA002416/teraterm.html">Pocket Tera Term</a> by T. Teranishi is yet another free program. We have not tested it yet, so can't say if it works well or not (but like Tera TermPro, it's free).</li></ul><p>Palm
</p><ul><li><a href="http://netpage.estaminas.com.br/mmand/ptelnet.htm">ptelnet</a> by Marcio Migueletto de Andrade is free and works well, if you are doing basic testing. It allows you to define macros for common functions, which is handy.</li></ul>
</div><p class="question">The received data keeps overwriting on itself. What is wrong?
</p><div class="myblockquote">Your ELM chip is not generating linefeeds after carriage returns. Either turn them back on (AT L1) or set your terminal software to automatically insert linefeeds on receipt of carriage returns. (Some software calls this 'Append line feeds to incoming line ends'.)
</div></div><a name="Hardware" id="Hardware"></a><p class="section">Hardware Problems
</p><div class="myblockquote"><p class="question">I've connected the RS232 but get nothing from my ELM IC. What should I do now?
</p><div class="myblockquote">All of the ELM chips that have an RS232 interface will power up with a text message saying its device name and version number. Before even trying to control something with your ELM IC, you need to see this message.<p>Some of the ELM RS232 Example Applications show RS232 connections for an older style 25 pin connector. This connection was very common for external modems and other computer peripherals, but is almost extinct at this point. Be sure that you are using the correct pinouts for the type of connector that you are using. Here is a pin cross-reference for you:
</p><p></p><center><table border="1" cellpadding="5" cellspacing="0">
<tbody><tr bgcolor="#EEEEEE" valign="middle"><th>Function</th><th>DB25</th><th>DB9</th>
</tr><tr valign="middle"><td align="left">Transmit Data (from PC) </td><td align="center">2 </td><td align="center">3 </td>
</tr><tr valign="middle"><td align="left">Receive Data (to PC) </td><td align="center">3 </td><td align="center">2 </td>
</tr><tr valign="middle"><td align="left">Request to Send (from PC) </td><td align="center">4 </td><td align="center">7 </td>
</tr><tr valign="middle"><td align="left">Clear to Send (to PC) </td><td align="center">5 </td><td align="center">8 </td>
</tr><tr valign="middle"><td align="left">DCE Ready (to PC) </td><td align="center">6 </td><td align="center">6 </td>
</tr><tr valign="middle"><td align="left">Signal Ground </td><td align="center">7 </td><td align="center">5 </td>
</tr><tr valign="middle"><td align="left">Data Carrier Detect (to PC) </td><td align="center">8 </td><td align="center">1 </td>
</tr><tr valign="middle"><td align="left">DTE Ready (from PC) </td><td align="center">20 </td><td align="center">4 </td>
</tr><tr valign="middle"><td align="left">Ring Indicator (to PC) </td><td align="center">22 </td><td align="center">9 </td>
</tr></tbody></table></center><p>If you are sure that you have connected to the correct pins (there should a be tiny little number beside each of the pins), then perhaps you have a component problem. The following shows the typical voltages that you should see in your circuit - simply compare them to what you see for your circuit:
</p><p></p><center><img src="images/RS232-volts.gif" height="219" width="270" border="0" alt="ELM RS232 interface voltages" /></center><p>Note that we've provided typical voltages on the circuit above. If you have a multimeter available (you should if you're building an electronic circuit) then connect it with the negative lead to circuit common and probe around this circuit. The typical voltages that you would expect if all connections are correct are shown in red in the above diagram. The most negative point in the entire circuit must be the computer's TxD line (shown here at -9.3V). Don't worry if your voltage is a little different as each computer is different - it is the relative magnitude and the polarity of the voltage that is important.
</p><p>Several people have pointed out that the Rx pin on the ELM chip actually sits at a slightly negative voltage in this circuit, but voltages less than Vss are not recommended for an IC. Actually, it is not recommended if there is no means of limiting the current through the input pin (as it could cause a problem known as 'latchup'). In this case a large series resistor limits the current to a safe level, so the -0.5V is quite acceptable.
</p>
</div><p class="question">I've connected the RS232 but get random characters from my ELM IC. What should I do now?
</p><div class="myblockquote">Random characters almost certainly mean that you have the baud rate set wrong. Check your terminal program's setting.
</div><p class="question">I've purchased a USB to RS232 converter for my PC, but it does not work with my circuit. What can I do?
</p><div class="myblockquote">Most RS232 ports could be used with our simple 'three wire systems' by turning the hardware handshaking off. Some USB to RS232 converters do not offer this option, however, so these devices need to be fooled into believing that the handshaking signals are present. Typically, all you need to do is to install a couple of jumpers on the handshaking pins (1, 4, 6, 7, and 8) of your 9-pin connector:<p></p><center><img src="images/USB232.gif" height="345" width="218" border="0" alt="USB232" /></center><p>Give this a try before tearing into your circuit, thinking that you have made a mistake in the wiring.
</p>
</div></div><br /><br /><br /><a name="Ref" id="Ref"></a><h3>Reference
</h3><hr /><a name="Ref01" id="Ref01"></a><p class="section">RS232 Information
</p><div class="myblockquote"><p class="question">I really don't understand RS232. Can you point me to some tutorials?
</p><div class="myblockquote">Sure. We all had to learn at some point. Here are some to try:<ul><li>Jan Axelson has always been an authority on serial communications. Visit her <a href="http://www.lvr.com/">Lakeview Research web site</a> for complete info. In particular, <a href="http://www.lvr.com/serport.htm">the Serial Port Central pages</a> are certainly worth a click.</li><li><a href="http://www.bb-elec.com">B&amp;B electronics</a> is another good source of information (and cool RS232 devices as well). Although they don't use one of our OBD ICs in their <a href="http://www.autotap.com/">AutoTap OBDII Scanner</a>, we still think a lot of their products.</li><li><a href="http://www.camiresearch.com">CAMI Research</a> provides an excellent discussion of the RS232 standard as well - <a href="http://www.camiresearch.com/Data_Com_Basics/RS232_standard.html">see their tutorial</a>.</li><li>There is a good overview of the RS232, RS422, and RS485 serial standards provided by Maxim in their "<a href="http://dbserv.maxim-ic.com/appnotes.cfm/appnote_number/723">Selecting and Using RS-232, RS-422, and RS-485 Serial Data Standards</a>" app note.</li></ul>
</div></div><!-- a 'to the top' button --><div class="arrow"><a href="#"><img src="images/uparrow.png" height="64" width="64" alt="to top" /><br />top</a></div><!-- *********************** the page content ends here *************************** --></div><!-- the footer --><div class="footer">©2023 Elm Electronics
</div></div><div class="bottomspace"> 
</div></div></body></html>